<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Schoolbell&display=swap"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
  </head>
  <body>
    <div class="flex h-screen text-gray-700">
      <div class="m-auto text-center relative">
        <div id="container" class="">
          <h3 class="hand text-4xl p-3">When will oddnumberone reach $1million??</h3>
          <p class="hand text-xl">Good question!! Find out, click below!!</p>
          <button
            onclick="reveal()"
            class="mt-3 p-2 rounded-md border-2 border-black"
          >
            The when rich button
          </button>
        </div>
        <div class="relative">
          <div
            id="soon-text"
            class="
              hand
              text-4xl
              font-bold
              animate__animated animate__zoomInDown
              hidden
            "
          >
            SOON!!
          </div>
          <img
            id="noot"
            src="/images/noot.gif"
            class="
              h-16
              absolute
              top-0
              right-0
              mr-12
              animate__animated animate__bounce
              hidden
            "
            alt=""
          />
        </div>
      </div>
    </div>
    <audio id="nooter" src="/sounds/noot.mp3"></audio>
  </body>
</html>

<script>
  var soonText = document.getElementById("soon-text");
  var sozText = document.getElementById("soz-text");
  var wenText = document.getElementById("wen-text");
  var noot = document.getElementById("noot");
  var nooter = document.getElementById("nooter");
  var container = document.getElementById("container");

  function reveal() {
    console.log(
      `If you clicked this, find me on threads: https://www.threads.net/@oddnumberone`
    );
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "https://api.countapi.xyz/hit/wenflare.cc/wen");
    xhr.responseType = "json";
    xhr.onload = function () {
      document.getElementById("count").innerHTML = this.response.value;
      if (this.response.value % 5 === 0) {
        console.log("Get noooted!");
        setTimeout(() => {
          noot.classList.remove("hidden");
          nooter.play();
        }, 2750);
      }
    };
    xhr.send();

    container.classList.add("animatenow");

    setTimeout(() => {
      container.classList.remove("animatenow");
      container.classList.add("animate__animated");
      container.classList.add("animate__rotateOut");
    }, 2500);
    setTimeout(() => {
      soonText.classList.remove("hidden");
    }, 2750);
    setTimeout(() => {
      sozText.classList.remove("hidden");
      wenText.classList.remove("hidden");
    }, 4000);
  }
</script>

<style>
  .hand {
    font-family: "Schoolbell", cursive;
  }

  @keyframes swinging {
    0% {
      transform: rotate(-10deg);
    }
    50% {
      transform: rotate(10deg);
    }
    100% {
      transform: rotate(-10deg);
    }
  }

  .animatenow {
    -webkit-transform-origin: 50% 50%;
    /* for Safari and older Chrome */
    transform-origin: 50% 50%;
    -webkit-animation: swinging 0.5s ease-in-out forwards infinite;
    animation: swinging 0.5s ease-in-out forwards infinite;
  }
</style>
